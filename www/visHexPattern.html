<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
<title>visHexPattern @ supraHex 1.1.14</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="author" content="">

<link href="css/bootstrap.css" rel="stylesheet">
<link href="css/bootstrap-responsive.css" rel="stylesheet">
<link href="css/highlight.css" rel="stylesheet">
<link href="css/staticdocs.css" rel="stylesheet">


<style type="text/css">

.navbar .brand {
  display: block;
  float: left;
  padding: 8px 20px 12px;
  margin-left: -20px;
  font-size: 20px;
  font-weight: 200;
  line-height: 1;
  color: #999999;
}

.navbar .brand:hover {
  color: #F87217;
  text-decoration: none;
  background-color: transparent;
}

.navbar .nav > li > a:hover {
  color: #F87217;
  text-decoration: underline;
  background-color: transparent;
}

</style>


<!--[if lt IE 9]>
  <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->

<!-- google analytics -->
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-17338744-2']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

<!-- Enlarge image -->
<script type="text/javascript">
    function newWin(url, name, width, height) { 
       
        var left = (screen.width/2)-(width/2);
        var top = (screen.height/2)-(height/2); 
        
        window.open(url,name,'scrollbars=yes,resizable=yes,fullscreen=yes, width=' + width + ', height='+height+', top='+top+', left='+left);
    }
</script>
  </head>

  <body>
    <div class="navbar">
  <div class="navbar-inner">
    <div class="container">
      <a class="brand" href="index.html">supraHex 1.1.14</a>
      <div class="nav">
        <ul class="nav">
          <li><a href="index.html"><i class="icon-home icon-white"></i> Home</a></li>
        </ul>
        <ul class="nav">
          <li><a href="docs.html"><i class="icon-book icon-white"></i> Documentations</a></li>
        </ul>
        <ul class="nav">
          <li><a href="install.html"><i class="icon-wrench icon-white"></i> Installation</a></li>
        </ul>
        <ul class="nav">
          <li><a href="demos.html"><i class="icon-play icon-white"></i> Demos</a></li>
        </ul>
        <ul class="nav">
          <li><a href="cite.html"><i class="icon-pencil icon-white"></i> Citation</a></li>
        </ul>
      </div>
    </div>
  </div>
</div>

    <div class="container">
      <header>
        
      </header>
      
      <h2>Function to visualise codebook matrix or input patterns within a supra-hexagonal grid</h2>

<div class="row">
  <div class="span8">
  
    <h3>Description</h3>
    <p><code>visHexPattern</code> is supposed to codebook matrix or
  input patterns within a supra-hexagonal grid.</p>
  
    <h3>Usage</h3>
    <pre>visHexPattern(sObj, plotType = c("lines", "bars", "radars"), pattern = NULL, height = 7, 
  margin = rep(0.1, 4), colormap = c("customized", "bwr", "jet", "gbr", "wyr", 
          "br", "yr", "rainbow", "wb"), customized.color = "red", zeropattern.color = "gray", 
      legend.cex = 0.8, newpage = T)</pre>
    
    <h3>Arguments</h3>
    <dl>
      <dt>sObj</dt>
      <dd>an object of class "sMap" or "sTopol" or
  "sInit"</dd>
      <dt>plotType</dt>
      <dd>the plot type, can be "lines" for
  line/point graph, "bars" for bar graph, "radars" for
  radar graph</dd>
      <dt>pattern</dt>
      <dd>By default, it sets to "NULL" for the
  codebook matrix. It is intended for the user-input
  patterns, i.e., a matrix with the dimension of nHex x
  nPattern, where nHex is the number of hexagons and
  nPattern is the number of elements for each pattern</dd>
      <dt>height</dt>
      <dd>a numeric value specifying the height of
  device</dd>
      <dt>margin</dt>
      <dd>margins as units of length 4 or 1</dd>
      <dt>colormap</dt>
      <dd>short name for the predifined colormap,
  and "customized" for custom input (see the next
  'customized.color'). The predifined colormap can be one
  of "jet" (jet colormap), "bwr" (blue-white-red colormap),
  "gbr" (green-black-red colormap), "wyr" (white-yellow-red
  colormap), "br" (black-red colormap), "yr" (yellow-red
  colormap), "wb" (white-black colormap), and "rainbow"
  (rainbow colormap, that is,
  red-yellow-green-cyan-blue-magenta). Alternatively, any
  hyphen-separated HTML color names, e.g.
  "blue-black-yellow", "royalblue-white-sandybrown",
  "darkgreen-white-darkviolet". A list of standard color
  names can be found in
  <a href = 'http://html-color-codes.info/color-names'>http://html-color-codes.info/color-names</a></dd>
      <dt>customized.color</dt>
      <dd>the customized color for pattern
  visualisation</dd>
      <dt>zeropattern.color</dt>
      <dd>the color for zero horizental
  line</dd>
      <dt>legend.cex</dt>
      <dd>a numerical value giving the amount by
  which legend text should be magnified relative to the
  default (i.e., 1)</dd>
      <dt>newpage</dt>
      <dd>logical to indicate whether to open a new
  page. By default, it sets to true for opening a new page</dd>
    </dl>
    <!-- 
    -->
    
    <div class="Value">
      <h3>Value</h3>
      
      <p>invisible</p>
    </div>
    <div class="Note">
      <h3>Note</h3>
      
      <p>The "plotType" includes: <ul>
<li>"lines": line
  plot. If multple colors are given, the points are also
  plotted. When the pattern involves both positive and
  negative values, zero horizental line is also shown
  </li>
<li>"bars": bar plot. When the pattern involves both
  positive and negative values, the zero horizental line is
  in the middle of the hexagon; otherwise at the top of the
  hexagon for all negative values, and at the bottom for
  all positive values </li>
<li>"radars": radar plot. Each
  radar diagram represents one pattern, wherein each
  element value is proportional to the distance from the
  center. Note, it starts on the right and wind
  counterclockwise around the circle </li>
</ul></p>
      <p></p>
    </div>
    
    <h3 id="examples">Examples</h3>
    <pre class="examples"><div class='input'># 1) generate data with three different distributions, each with an iid normal random matrix of 1000 x 3
data <- cbind(matrix(rnorm(1000*3,mean=0,sd=1), nrow=1000, ncol=3),
matrix(rnorm(1000*3,mean=0.5,sd=1), nrow=1000, ncol=3),
matrix(rnorm(1000*3,mean=-0.5,sd=1), nrow=1000, ncol=3))
colnames(data) <- c("S1","S1","S1","S2","S2","S2","S3","S3","S3")

# 2) sMap resulted from using by default setup
sMap <- sPipeline(data=data)
</div>
<strong class='message'>Start at 2014-03-22 16:30:51</strong>
<strong class='message'></strong>
<strong class='message'>First, define topology of a map grid...</strong>
<strong class='message'>Second, initialise the codebook matrix given a topology and input data...</strong>
<strong class='message'>Third, get training at the rough stage...</strong>
<strong class='message'>Fourth, get training at the finetune stage...</strong>
<strong class='message'>Next, identify the best-matching hexagon/rectangle for the input data...</strong>
<strong class='message'>Finally, append the response data (hits and mqe) into the sMap object...</strong>
<strong class='message'></strong>
<strong class='message'>Below are the summaries of the training results:</strong>
<strong class='message'>   dimension of input data: 1000x9
   xy-dimension of map grid: xdim=15, ydim=15
   grid lattice: hexa
   grid shape: suprahex
   dimension of grid coord: 169x2
   initialisation method: linear
   dimension of codebook matrix: 169x9
   mean quantization error: 4.24528312895362
</strong>
<strong class='message'>Below are the details of trainology:</strong>
<strong class='message'>   training algorithm: batch
   alpha type: invert
   training neighborhood kernel: gaussian
   trainlength (x input data length): 2 at rough stage; 7 at finetune stage
   radius (at rough stage): from 4 to 1
   radius (at finetune stage): from 1 to 1
</strong>
<strong class='message'>End at 2014-03-22 16:30:51</strong>
<strong class='message'>Runtime in total is: 0 secs
</strong>
<div class='input'>
# 3) plot codebook patterns using different types
# 3a) line plot
visHexPattern(sMap, plotType="lines", customized.color="red", zeropattern.color="gray")
</div>
<a href="javascript:newWin('visHexPattern-18.png', 'visHexPattern-18.png', '1200', '1200')" title="Click to enlarge"><img style="max-width:95%;border:3px solid #FFFFFF;" src='visHexPattern-18.png', width="400" /></a>
<div class='input'># visHexPattern(sMap, plotType="lines", customized.color=rep(c("red","green","blue"),each=3))
# 3b) bar plot
visHexPattern(sMap, plotType="bars")
</div>
<a href="javascript:newWin('visHexPattern-20.png', 'visHexPattern-20.png', '1200', '1200')" title="Click to enlarge"><img style="max-width:95%;border:3px solid #FFFFFF;" src='visHexPattern-20.png', width="400" /></a>
<div class='input'># visHexPattern(sMap, plotType="bars", colormap="jet", legend.cex=0.8)
# visHexPattern(sMap, plotType="bars", customized.color=rep(c("red","green","blue"),each=3))
# 3c) radar plot
visHexPattern(sMap, plotType="radars")
</div>
<a href="javascript:newWin('visHexPattern-22.png', 'visHexPattern-22.png', '1200', '1200')" title="Click to enlarge"><img style="max-width:95%;border:3px solid #FFFFFF;" src='visHexPattern-22.png', width="400" /></a>
<div class='input'># visHexPattern(sMap, plotType="radars", colormap="jet", legend.cex=0.8)
# visHexPattern(sMap, plotType="radars", customized.color=rep(c("red","green","blue"),each=3))

# 4) plot user-input patterns using different types
# 4a) generate pattern data with two different groups "S" and "T"
nHex <- sMap$nHex
pattern <- cbind(matrix(runif(nHex*3,min=0,max=1), nrow=nHex, ncol=3),
matrix(runif(nHex*3,min=1,max=2), nrow=nHex, ncol=3))
colnames(pattern) <- c("S1","S2","S3","T1","T2","T3")
# 4b) for line plot
visHexPattern(sMap, plotType="lines", pattern=pattern, customized.color="red", zeropattern.color="gray")
</div>
<a href="javascript:newWin('visHexPattern-24.png', 'visHexPattern-24.png', '1200', '1200')" title="Click to enlarge"><img style="max-width:95%;border:3px solid #FFFFFF;" src='visHexPattern-24.png', width="400" /></a>
<div class='input'># visHexPattern(sMap, plotType="lines", pattern=pattern, customized.color=rep(c("red","green"),each=3))
# 4c) for bar plot
visHexPattern(sMap, plotType="bars", pattern=pattern, customized.color=rep(c("red","green"),each=3))
</div>
<a href="javascript:newWin('visHexPattern-26.png', 'visHexPattern-26.png', '1200', '1200')" title="Click to enlarge"><img style="max-width:95%;border:3px solid #FFFFFF;" src='visHexPattern-26.png', width="400" /></a>
<div class='input'># 4d) for radar plot
visHexPattern(sMap, plotType="radars", pattern=pattern, customized.color=rep(c("red","green"),each=3))
</div>
<a href="javascript:newWin('visHexPattern-28.png', 'visHexPattern-28.png', '1200', '1200')" title="Click to enlarge"><img style="max-width:95%;border:3px solid #FFFFFF;" src='visHexPattern-28.png', width="400" /></a></pre>
  </div>
  
  <div class="span4">
    
    <!-- 
    <ul>
      <li>visHexPattern</li>
    </ul>
    <ul>
      
    </ul> 
    -->
      
    <h2>See also</h2>
    
  <code><a href='sPipeline.html'>sPipeline</a></code>, <code><a href='visColormap.html'>visColormap</a></code>

    
    <h2>Citation</h2>
    <p>Fang H, Gough J. (2014) supraHex: an R/Bioconductor package for tabular omics data analysis using a supra-hexagonal map. Biochemical and Biophysical Research Communications, 443(1), 285-289. <a href="http://dx.doi.org/10.1016/j.bbrc.2013.11.103">http://dx.doi.org/10.1016/j.bbrc.2013.11.103</a>, PMID: <a href="http://www.ncbi.nlm.nih.gov/pubmed/?term=24309102">24309102</a></p>

    
    <!--
    
    <h2>URL</h2>
    <ul>
      <li><a href="http://supfam.org/supraHex">http://supfam.org/supraHex</a></li>
    </ul>
    
    
    -->
    
  </div>
  
</div>
      
      <footer>
      <p class="pull-right"><a href="#">Back to top</a></p>

<p><a href="mailto:hfang@cs.bris.ac.uk" title="Hai Fang">Hai Fang</a></p>
<p><a href="http://bioinformatics.bris.ac.uk">Computational Genomics Group, Department of Computer Science, University of Bristol, UK</a></p>


      </footer>
    </div>
  </body>
</html>